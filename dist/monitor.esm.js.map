{"version":3,"file":"monitor.esm.js","sources":["../src/config.js","../src/utils.js","../src/cache.js","../src/report.js","../src/performance/fetch.js","../src/performance/observerEntries.js","../src/performance/observerFCP.js","../src/performance/observerLCP.js","../src/performance/observerLoad.js","../src/performance/observerPaint.js","../src/performance/xhr.js","../src/performance/index.js","../src/behavior/onClick.js","../src/behavior/pageChange.js","../src/behavior/pv.js","../src/behavior/index.js","../src/error/index.js","../src/webEyeSDK.js"],"sourcesContent":["const config = {\r\n    url:'http://127.0.0.1:8080/api',\r\n    projectName:'eyesdk',\r\n    appId:'123456',\r\n    userId:'123456',\r\n    isImageUpload:false,\r\n    batchSize:10\r\n}\r\n\r\nexport function setConfig(options){\r\n    for(const key in config){\r\n        if(options[key]){\r\n            config[key] = options[key]\r\n        }\r\n    }\r\n}\r\nexport default config","export function deepCopy(target){\r\n    if(typeof target === 'object'){\r\n        const result  = Array.isArray(target)? [] : {}\r\n        for(const key in target){\r\n            if(typeof target[key] == 'object'){\r\n                result[key] = deepCopy(target[key])\r\n            }else{\r\n                result[key] = target[key]\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    return target\r\n}\r\nexport  function generateUniqueId(){\r\n    return \"id-\" + Date.now() + '-' +Math.random().toString(36).substring(2,9)\r\n}","\r\nimport { deepCopy } from \"./utils\"\r\nconst cache = []\r\nexport function getCache(){\r\n    return deepCopy(cache)\r\n}\r\nexport function addCache(data){\r\n    cache.push(data)\r\n}\r\n\r\nexport function clearCache(){\r\n    cache.length = 0\r\n}","import config from \"./config\";\r\nimport {generateUniqueId} from './utils'\r\nimport { addCache, clearCache, getCache } from \"./cache\";\r\nexport const originalProto = XMLHttpRequest.prototype\r\nexport const originalSend = originalProto.send;\r\nexport const originalOpen = originalProto.open;\r\nexport function isSupportSendBeacon(){\r\n    return 'sendBeacon' in navigator\r\n}\r\n\r\nexport function report (data){\r\n    if(!config.url){\r\n        console.error(\"请设置上传url地址\");\r\n    }\r\n    const reportData = JSON.stringify({\r\n        id:generateUniqueId(),\r\n        data\r\n    })\r\n    if(config.isImageUpload){\r\n        imgRequest(reportData)\r\n    }else{\r\n        if(window.navigator.sendBeacon) {return beaconRequest(reportData)}\r\n        else{xhrRequest(reportData)}\r\n        \r\n    }\r\n    // }\r\n}\r\n\r\nexport function imgRequest(data){\r\n    const img = new Image();\r\n    img.src = `${config.url}?data=${encodeURIComponent(JSON.stringify(data))}`\r\n\r\n}\r\n// 普通ajax发送请求\r\nexport function xhrRequest(data){\r\n   \r\n    if(window.requestIdleCallback){\r\n        window.requestIdleCallback(()=>{\r\n            const xhr = new XMLHttpRequest()\r\n            originalOpen.call(xhr,'post',config.url)\r\n            originalSend.call(xhr,JSON.stringify(data))\r\n        },{timeout:3000})\r\n    }else{\r\n        setTimeout(() => {\r\n            const xhr = new XMLHttpRequest()\r\n            originalOpen.call(xhr,'post',config.url)\r\n            originalSend.call(xhr,JSON.stringify(data))\r\n        });\r\n    }\r\n}\r\n// becon发送请求\r\n\r\n\r\n// const sendBeacon = isSupportSendBeacon()? navigator.sendBeacon: xhrRequest\r\nexport function beaconRequest(data){\r\n    // let flg =true\r\n    if(window.requestIdleCallback){\r\n        window.requestIdleCallback(()=>{\r\n            window.navigator.sendBeacon(config.url,data)\r\n            // return  flg = sendBeacon(config.url,data)\r\n        },{timeout:3000})\r\n    }else{\r\n        setTimeout(() => {\r\n            window.navigator.sendBeacon(config.url,data)\r\n            // return  flg = sendBeacon(config.url,data)\r\n        });\r\n    }\r\n}\r\n\r\nexport function lazyReportBatch(data){\r\n    // 定义缓存\r\n    addCache(data)\r\n    const dataCache =getCache()\r\n    console.error('dataCache',dataCache);\r\n    if(dataCache.length && dataCache.length > config.batchSize){\r\n        report(dataCache)\r\n        clearCache()\r\n    }\r\n}","import { lazyReportBatch } from \"../report\";\r\n\r\nconst orginalFetch = window.fetch;\r\nfunction overwriteFetch(){\r\n    window.fetch = function newFetch(url,config){\r\n        // console.log('fetch',...args);\r\n        const startTime = Date.now()\r\n        const reportData = {\r\n            type:'performance',\r\n            subType:'fetch',\r\n            url,\r\n            startTime,\r\n            method:config.method\r\n        }\r\n        return originalFetch(url,config).then(res=>{\r\n            const endTime = Date.now()\r\n            reportData.endTime = endTime\r\n            reportData.durattion = endTime - startTime\r\n            const data = res.clone();\r\n            reportData.status = data.status;\r\n            reportData.success = data.ok;\r\n            lazyReportBatch(reportData)\r\n        }).catch(err=>{\r\n            const endTime = Date.now()\r\n            reportData.endTime = endTime\r\n            reportData.durattion = endTime - startTime\r\n            reportData.status = 0;\r\n            reportData.success = false;\r\n            lazyReportBatch(reportData)\r\n        })\r\n    }\r\n}\r\nexport default function fetch(){\r\n    overwriteFetch()\r\n}","import { lazyReportBatch } from \"../report\"\r\n\r\nexport default function observerEntries(){\r\n    if(document.readyState === 'complete'){\r\n        observerEvent()\r\n    }else{\r\n        const onLoad = ()=>{\r\n            observerEvent()\r\n            window.removeEventListener('load',onLoad,true)\r\n        }\r\n        window.addEventListener('load',onLoad,true)\r\n    }\r\n}\r\n\r\nexport function observerEvent(){\r\n    const entrtyHandler = (list)=>{\r\n        const data = list.getEntries()\r\n        for (const entry of data) {\r\n            if(observer){\r\n                observer.disconnect()\r\n            }\r\n            const reportData = {\r\n                name:entry.name,        //资源名称\r\n                type:'performance',     //类型\r\n                subType:entry.entryType, //类型\r\n                sourceType:entry.initiatorType,     //资源类型\r\n                duration:entry.duration,            //加载事件\r\n                dns:entry.domainLookupEnd - entry.domainLookupStart,    //dns加载时间\r\n                tcp:entry.connectEnd - entry.connectStart,              //tcp链接时间\r\n                redirect:entry.redirectEnd - entry.redirectStart ,       //重定向时间\r\n                ttfb:entry.responseStart,                         //服务器响应时间\r\n                protocol:entry.nextHopProtocol,                         //请求协议\r\n                responseBodySize:entry.encodedBodySize,                  //响应内容大小\r\n                resourceSize:entry.decodedBodySize,                      //资源解压后大小\r\n                transferSize:entry.transferSize,                        //请求内容大小\r\n                responseHeaderSize:entry.transferSize - entry.encodedBodySize,  //响应头部大小\r\n                startTime:performance.now()\r\n            }\r\n            lazyReportBatch(reportData)\r\n            console.log(entry);\r\n        }\r\n    }\r\n    const observer = new PerformanceObserver(entrtyHandler);\r\n    //buffered true 确保观察到所有paint事件\r\n    observer.observe({type:['resource'],buffered:true})\r\n}","import { lazyReportBatch } from \"../report\";\r\n\r\nexport default function observerFCP(){\r\n    const entrtyHandler = (list) =>{\r\n        for  (const entry of list.getEntries()) {\r\n\r\n            if(entry.name === 'first-contentful-paint'){\r\n                observer.disconnect()\r\n                const json = entry.toJSON()\r\n                console.log(json);\r\n                const reportData = {\r\n                    ...json,\r\n                    type:\"performance\",\r\n                    subType:entry.name,\r\n                    pageUrl:window.location.href\r\n                }\r\n                lazyReportBatch(reportData)\r\n            }\r\n        }\r\n    }\r\n    // 统计和计算fcp的事件\r\n    const observer = new PerformanceObserver(entrtyHandler);\r\n    //buffered true 确保观察到所有paint事件\r\n    observer.observe({type:'paint',buffered:true})\r\n}","import { lazyReportBatch } from \"../report\";\r\n\r\nexport default function observerLCP(){\r\n    const entrtyHandler = (list) =>{\r\n        if(observer){\r\n            observer.disconnect()\r\n        }\r\n        for  (const entry of list.getEntries()) {\r\n\r\n            const json = entry.toJSON()\r\n            console.log(json);\r\n            const reportData = {\r\n                ...json,\r\n                type:\"performance\",\r\n                subType:entry.name,\r\n                pageUrl:window.location.href\r\n            }\r\n            lazyReportBatch(reportData)\r\n            \r\n        }\r\n    }\r\n    // 统计和计算fp的事件\r\n    const observer = new PerformanceObserver(entrtyHandler);\r\n    //buffered true 确保观察到所有paint事件\r\n    observer.observe({type:'largest-contentful-paint',buffered:true})\r\n}","import { lazyReportBatch } from \"../report\"\r\n\r\nexport default function observerLoad (){\r\n    window.addEventListener('pageShow',function(event){\r\n        requestAnimationFrame(()=>{\r\n            ['load'].forEach((type)=>{\r\n                const reportData = {\r\n                    type:'performance',\r\n                    subtType:type,\r\n                    pageUrl:window.location.href,\r\n                    startTime:performance.now() -event.timeStamp\r\n                }\r\n                lazyReportBatch(reportData)\r\n            })\r\n        })\r\n    })\r\n}","import { lazyReportBatch } from \"../report\";\r\n\r\nexport default function observerPaint(){\r\n    const entrtyHandler = (list) =>{\r\n        for  (const entry of list.getEntries()) {\r\n            if(entry.name === 'first-paint'){\r\n                observer.disconnect()\r\n                const json = entry.toJSON()\r\n                console.log(json);\r\n                const reportData = {\r\n                    ...json,\r\n                    type:\"performance\",\r\n                    subType:entry.name,\r\n                    pageUrl:window.location.href\r\n                }\r\n                lazyReportBatch(reportData)\r\n            }\r\n        }\r\n    }\r\n    // 统计和计算fp的事件\r\n    const observer = new PerformanceObserver(entrtyHandler);\r\n    //buffered true 确保观察到所有paint事件\r\n    observer.observe({type:'paint',buffered:true})\r\n}","export const originalProto = XMLHttpRequest.prototype\r\nexport const originalSend = originalProto.send;\r\nexport const originalOpen = originalProto.open;\r\nfunction overwriteOpenAndSend(){\r\n    originalProto.open =  function newOpen(...args){\r\n        this.url = args[1]\r\n        this.method = args[0]\r\n        originalOpen.apply(this,args)\r\n    }\r\n    originalProto.send = function newSend(...args){\r\n        this.startTime = Date.now()\r\n        const onLoaded = ()=>{\r\n            this.endTime = Date.now()\r\n            this.duration =    this.endTime - this.startTime\r\n            const {url,method ,startTime ,endTime,duration,status} = this;\r\n            const reportData = {\r\n                url,method:method.toUpperCase() ,startTime ,endTime,duration,status,\r\n                type:'performance',\r\n                subType:'xhr',\r\n                success:status >=200 && status<300\r\n            }\r\n            this.removeEventListener('loadend',onLoaded,true)\r\n        }\r\n        this.addEventListener('loadend',onLoaded,true)\r\n        originalSend.apply(this,args)\r\n    }\r\n}\r\nexport default function xhr () {\r\n    overwriteOpenAndSend()\r\n}","import fetch from './fetch'\r\nimport observerEntries from './observerEntries'\r\nimport observerFCP from './observerFCP'\r\nimport observerLCP from './observerLCP'\r\nimport observerLoad from './observerLoad'\r\nimport observerPaint from './observerPaint'\r\nimport xhr from './xhr'\r\n\r\nexport default function performance(){\r\n    fetch()\r\n    observerEntries()\r\n    observerFCP()\r\n    observerLCP()\r\n    observerLoad()\r\n    observerPaint()\r\n    xhr()\r\n}","import { lazyReportBatch } from \"../report\";\r\n\r\nexport default function onClick(){\r\n    ['mousedown','touchstart'].forEach(eventType=>{\r\n        window.addEventListener(eventType,e=>{\r\n            const target = e.target;\r\n            console.log(\"click\",target);\r\n            if(target.tagName){\r\n                const reportData = {\r\n                    type:'behavior',\r\n                    subType:'click',\r\n                    target:target.tagName,\r\n                    startTime:e.timeStamp,\r\n                    innerHtml:target.innerHTML,\r\n                    outerHtml:target.outerHTML,\r\n                    width:target.offsetWidth,\r\n                    height:target.offsetHeight,\r\n                    eventType,\r\n                    path:e.path\r\n                }\r\n                lazyReportBatch(reportData)\r\n            }\r\n        })\r\n    })\r\n}","import { lazyReportBatch } from \"../report\";\r\nimport {generateUniqueId} from \"../utils\";\r\n\r\nexport default function pageChnage(){\r\n    // hash histroy\r\n    let oldUrl=''\r\n    window.addEventListener('hashchange',function(event){\r\n        console.log(this.location.hash);\r\n        const newUrl = event.newURL\r\n        const reportData = {\r\n            form:oldUrl,\r\n            to:newUrl,\r\n            type:'behavior',\r\n            subType:'hashchange',\r\n            startTime:this.performance.now(),\r\n            uuid:generateUniqueId()\r\n        }\r\n        lazyReportBatch(reportData)\r\n        oldUrl = newUrl\r\n    },true)\r\n\r\n    let from=''\r\n    window.addEventListener('postate',function(event){\r\n        const to = this.window.location.href\r\n        const reportData = {\r\n            form:from,\r\n            to:to,\r\n            type:'behavior',\r\n            subType:'hashchange',\r\n            startTime:this.performance.now(),\r\n            uuid:generateUniqueId()\r\n        }\r\n        lazyReportBatch(reportData)\r\n        from = to\r\n    },true)\r\n}\r\n","import { lazyReportBatch } from '../report'\r\nimport {generateUniqueId} from '../utils'\r\nexport default function pv(){\r\n    const reportData = {\r\n        type:'behavior',\r\n        subType:'pv',\r\n        startTime:performance.now(),\r\n        pageUrl:window.location.href,\r\n        referror:document.referrer,\r\n        uuid:generateUniqueId()\r\n    }\r\n    lazyReportBatch(reportData)\r\n}","import onClick from './onClick'\r\nimport pageChange from './pageChange'\r\nimport pv from './pv'\r\n\r\nexport default function behavior(){\r\n    onClick(),\r\n    pageChange(),\r\n    pv()\r\n}","import { lazyReportBatch } from \"../report\"\r\n\r\nexport default function error(){\r\n    // 捕获资源加载失败的错误 ： js css\r\n    window.addEventListener('error',function(e){\r\n        const target = e.target\r\n        // 不存在肯定为JS错误\r\n        if( !target){\r\n            return\r\n        }\r\n        if(target.src || target.href){\r\n            const url = target.src || target.href\r\n            const reportData = {\r\n                type:'error',\r\n                subType:'resource',\r\n                url,\r\n                html:target.outerHTML,\r\n                pageUrl:window.location.href,\r\n                paths:e.path\r\n            }\r\n            //todo 发送错误信息\r\n            lazyReportBatch(reportData)\r\n        }\r\n\r\n    },true)\r\n    // 捕获js\r\n    window.onerror = function(msg,url,lineNo,columnNo,error){\r\n        const reportData = {\r\n            type:'error',\r\n            subType:'js',\r\n            url,\r\n            lineNo,\r\n            columnNo,\r\n            msg,\r\n            stack:error.stack,\r\n            pageUrl:window.location.href,\r\n            startTime:performance.now()\r\n        }\r\n        lazyReportBatch(reportData)\r\n        //todo 发送错误信息\r\n    }\r\n    // 捕获promise错误\r\n    window.addEventListener('unhandledrejection',function(e){\r\n        const reportData = {\r\n            type:'error',\r\n            subType:'promise',\r\n            msg:e.reason?.stack,\r\n            pageUrl:this.window.location.href,\r\n            startTime:performance.now()\r\n        }\r\n        //todo 发送错误信息\r\n        lazyReportBatch(reportData)\r\n    },true)\r\n}","import performance from \"./performance/index\"\r\nimport behavior from \"./behavior/index\"\r\nimport error from './error/index'\r\nimport { setConfig } from \"./config\"\r\nimport { lazyReportBatch } from \"./report\"\r\nwindow.__webEyeSDK__ = {\r\n    version:\"0.0.1\"\r\n}\r\n// 针对vue项目\r\nexport function install (Vue,options){\r\n    if(__webEyeSDK__.vue){\r\n        return\r\n    }\r\n    __webEyeSDK__.vue = true\r\n    setConfig(options)\r\n    const handler= Vue.config.errorHandler\r\n    Vue.config.errorHandler = function(err,vm,info){\r\n        const reportData = {\r\n            info,\r\n            error:err?.stack,\r\n            subType:'vue',\r\n            type:'error',\r\n            startTime:window.performance.now(),\r\n            pageURL:window.location.href\r\n        }\r\n        lazyReportBatch(reportData)\r\n        // 收集上报错误信息\r\n        if(handler){\r\n            handler.call(this, err ,vm ,info);\r\n        }\r\n    }\r\n}\r\n\r\n// 针对react项目\r\nexport function errorBoundary(err,info){\r\n    if(__webEyeSDK__.react)return;\r\n    __webEyeSDK__.react = true\r\n    const reportData = {\r\n        info,\r\n        error:err?.stack,\r\n        subType:'react',\r\n        type:'error',\r\n        startTime:window.performance.now(),\r\n        pageURL:window.location.href\r\n    }\r\n    lazyReportBatch(reportData)\r\n}\r\n\r\nexport function init(options){\r\n    setConfig(options)\r\n    // error()\r\n    // performance()\r\n    behavior()\r\n}\r\nexport default{\r\n    install,\r\n    errorBoundary,\r\n    performance,\r\n    behavior,\r\n    error,\r\n    init\r\n}"],"names":["config","url","projectName","appId","userId","isImageUpload","batchSize","setConfig","options","key","deepCopy","target","_typeof","result","Array","isArray","generateUniqueId","Date","now","Math","random","toString","substring","cache","getCache","addCache","data","push","clearCache","length","originalProto","XMLHttpRequest","prototype","originalSend","send","originalOpen","open","report","console","error","reportData","JSON","stringify","id","imgRequest","window","navigator","sendBeacon","beaconRequest","xhrRequest","img","Image","src","concat","encodeURIComponent","requestIdleCallback","xhr","call","timeout","setTimeout","lazyReportBatch","dataCache","overwriteFetch","fetch","newFetch","startTime","type","subType","method","originalFetch","then","res","endTime","durattion","clone","status","success","ok","catch","err","observerEntries","document","readyState","observerEvent","onLoad","removeEventListener","addEventListener","entrtyHandler","list","getEntries","_iterator","_createForOfIteratorHelper","_step","s","n","done","entry","value","observer","disconnect","name","entryType","sourceType","initiatorType","duration","dns","domainLookupEnd","domainLookupStart","tcp","connectEnd","connectStart","redirect","redirectEnd","redirectStart","ttfb","responseStart","protocol","nextHopProtocol","responseBodySize","encodedBodySize","resourceSize","decodedBodySize","transferSize","responseHeaderSize","performance","log","e","f","PerformanceObserver","observe","buffered","observerFCP","json","toJSON","_objectSpread","pageUrl","location","href","observerLCP","observerLoad","event","requestAnimationFrame","forEach","subtType","timeStamp","observerPaint","overwriteOpenAndSend","newOpen","_len","arguments","args","_key","apply","newSend","_this","onLoaded","toUpperCase","_len2","_key2","onClick","eventType","tagName","innerHtml","innerHTML","outerHtml","outerHTML","width","offsetWidth","height","offsetHeight","path","pageChnage","oldUrl","hash","newUrl","newURL","form","to","uuid","from","pv","referror","referrer","behavior","pageChange","html","paths","onerror","msg","lineNo","columnNo","stack","_e$reason","reason","__webEyeSDK__","version","install","Vue","vue","handler","errorHandler","vm","info","pageURL","errorBoundary","react","init"],"mappings":"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"}